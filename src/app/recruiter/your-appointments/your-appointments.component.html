<div class="h64 flex-center border-bottom border-secondary mb-5">
  <div class="container-xxl d-flex flex-column flex-sm-row justify-content-between">
    <h1 class="h2 mb-0" id="pageTitle">Lista wydarzeń</h1>
    <div class="row mt-2 mt-md-0">
      <div class="col-12 col-sm-auto">
        <a class="w-100 btn btn-primary"
           (click)="goToCreate()"
           id="id1"
           *ngIf="authService.isLoggedIn()"
           [routerLink]="['/create']">
          Dodaj wydarzenie
        </a>
      </div>
    </div>
  </div>
</div>
<div class="main-content container-xxl mb-4">
  <div class="row justify-content-center">
    <section class="col-12 col-md-8 col-lg-6 d-flex flex-column justify-content-center align-items-center"
             *ngIf="!isFetching && !events[0]">
      <p class="h4 text-dark text-center mb-3">Nie masz jeszcze zaplanowanych wydarzeń</p>
      <a class="btn btn-outline-primary w-auto"
         (click)="goToCreate()"
         [routerLink]="['/create']">
        Dodaj wydarzenie
      </a>
    </section>
    <section class="col-12" *ngIf="events[0]">
      <ul class="list-group d-none d-md-block" aria-labelledby="pageTitle">
        <li class="list-group-item p-3 li-header d-block" aria-hidden="true">
          <div class="row">
            <div class="col-2" id="Status-Title">Status:</div>
            <div class="col-3" id="Nazwa-Title">Nazwa wydarzenia:</div>
            <div class="col-2 col-lg-3" id="Trwanie-Title">Czas trwania:</div>
            <div class="col-3" id="Koniec-Title">Data zakończenia zapisów:</div>
            <div class="col-1 text-end" id="Sloty-Title">Sloty:</div>
          </div>
        </li>
        <li class="list-group-item d-block"
            *ngFor="let event of events">
          <a [routerLink]="['/event/', event.id]"
             class="p-3 d-block">
            <div class="row">
              <div class="col-2">
                <span aria-labelledby="Status-Title"></span> {{ event.isActive() }}
              </div>
              <div class="col-3">
                <span aria-labelledby="Nazwa-Title"></span> {{ event.name }}
              </div>
              <div class="col-2 col-lg-3">
                <span aria-labelledby="Trwanie-Title"></span>
                <span class="text-nowrap">
                <span aria-label="Od"></span>
                  {{ formatDate(event.researchStartDate) }}
                </span>
                <span aria-label="do"></span> -
                <span class="text-nowrap">{{ formatDate(event.researchEndDate) }}</span>
              </div>
              <div class="col-3">
                <span aria-labelledby="Koniec-Title"></span> {{ formatDate(event.endDate) }}
              </div>
              <div class="col-1 text-end">
                <span aria-labelledby="Sloty-Title"></span> {{ event.slotsTaken }}/{{ event.maxUsers }}
              </div>
            </div>
          </a>
        </li>
      </ul>

      <ul class="list-group d-block d-md-none" aria-labelledby="pageTitle">
        <li class="list-group-item d-flex p-3 flex-column pb-1 pb-sm-3" *ngFor="let event of events">
          <dl class="row align-items-center mb-0" style="gap: 0.5rem 0;">
            <dt class="col-5 col-sm-4 text-end">Status:</dt>
            <dd class="col-7 col-sm-8">{{ event.isActive() }}</dd>
            <dt class="col-5 col-sm-4 text-end">Nazwa wydarzenia:</dt>
            <dd class="col-7 col-sm-8">{{ event.name }}</dd>
            <dt class="col-5 col-sm-4 text-end">Czas trwania:</dt>
            <dd class="col-7 col-sm-8">{{ formatDate(event.researchStartDate) }} - {{ formatDate(event.researchEndDate) }}</dd>
            <dt class="col-5 col-sm-4 text-end">Data zakończenia zapisów:</dt>
            <dd class="col-7 col-sm-8">{{ formatDate(event.endDate) }}</dd>
            <dt class="col-5 col-sm-4 text-end">Sloty:</dt>
            <dd class="col-7 col-sm-8">{{ event.slotsTaken }}/{{ event.maxUsers }}</dd>
          </dl>
          <div class="row justify-content-end mb-2 mt-1 px-3 mb-sm-0 mt-sm-0 px-sm-0">
            <a class="col-12 col-sm-auto bg-white col-auto btn btn-outline-primary me-0 me-sm-2 mt-2 mt-sm-0"
               [routerLink]="['/event/', event.id]">Szczegoły wydarzenia</a>
          </div>
        </li>
      </ul>
    </section>
  </div>
</div>
